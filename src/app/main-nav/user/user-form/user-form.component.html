<mat-toolbar>
  <span class="tb-title">Users</span>
  <span class="spacer"></span>
  <button form="userForm" type="submit" [disabled]="userForm.invalid" mat-icon-button matTooltip="Save">
    <mat-icon aria-label="Save">save</mat-icon>
  </button>
</mat-toolbar>

<div class="wrap">
  <form [formGroup]="userForm" id="userForm" (submit)="save()">
    <div id="names">
      <mat-form-field>
        <input type="text" matInput placeholder="First name" formControlName="firstName" required>
      </mat-form-field>
      <mat-form-field>
        <input type="text" matInput placeholder="Last name" formControlName="lastName">
      </mat-form-field>
    </div>
    <div>
      <mat-form-field class="full-width">
        <input type="email" matInput placeholder="Email" formControlName="email" required>
        <mat-error *ngIf="userForm.get('email').hasError('email')">Please input a valid email address</mat-error>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field class="full-width">
        <input type="text" matInput placeholder="Phone" formControlName="phone">
      </mat-form-field>
    </div>
    <div>
      <mat-form-field class="full-width">
        <mat-select placeholder="Role" formControlName="role" multiple required>
          <mat-option *ngFor="let r of roles" [value]="r">
            {{ r }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div>
      <mat-form-field class="full-width">
        <input type="password" matInput placeholder="Password" formControlName="password">
        <mat-error *ngIf="userForm.get('password').hasError('minlength')">Password should have at least 8 characters</mat-error>
      </mat-form-field>
    </div>
    <div>
      <button type="button" mat-raised-button color="primary" (click)="fileInput.click()">
        <mat-icon aria-label="Select images">library_add</mat-icon>
        <span style="margin-left: 10px;">Choose user's photo</span>
        <input #fileInput [hidden]="true" type="file" accept="image/png, image/jpeg" (change)="onFileChange($event)">
      </button>
      <button mat-icon-button (click)="deleteAllImages($event)" id="delete_img_btn">
        <mat-icon aria-label="Delete all images" matTooltip="Delete all images">delete_sweep</mat-icon>
      </button>
    </div>
  </form>
  <div class="gallery"></div>
</div>